{"file":"ssg-detect.mjs","mappings":";;;AAKA,MAAA,yDAAe,iBAAiB;AAAA,EAC9B,MAAM;AAAA,EACN,WAAW,CAAC,eAAe,iCAAiC;AAAA,EAC5D,SAAS;AAAA,EACT,MAAM,MAAM;AACN,QAAU,KAAK,MAAM,aAAa,eAAe,CAAC,6BAA6B,KAAK,QAAQ,OAAO,IAAI;AACzG;AACF,UAAM,UAAU;AAEV,UAAA,eAAe,QAAQ,MAAM,gBAAgB;AAC9C,SAAA,KAAK,eAAe,YAAY;AACnC,YAAM,WAAW;AAAA,QACf,QAAQ,QAAQ,aAAa;AAAA,QAC7B;AAAA,QACA,gBAAgB,MAAM,QAAQ,MAAM,aAAa;AAAA,MACnD;AAEA,YAAM,QAAQ,MAAM,UAAU,SAAS,MAAM;AAC7C,cAAQ,SAAS,gBAAgB;AAAA,IAAA,CAClC;AAAA,EAAA;AAEL,CAAC;","names":[],"sources":["../../../../../../../../../node_modules/@nuxtjs/i18n/dist/runtime/plugins/ssg-detect.js"],"sourcesContent":["import { unref } from \"vue\";\nimport { isSSG } from \"#build/i18n.options.mjs\";\nimport { defineNuxtPlugin } from \"#imports\";\nimport { createLogger } from \"#nuxt-i18n/logger\";\nimport { detectBrowserLanguage, runtimeDetectBrowserLanguage } from \"../internal.js\";\nexport default defineNuxtPlugin({\n  name: \"i18n:plugin:ssg-detect\",\n  dependsOn: [\"i18n:plugin\", \"i18n:plugin:route-locale-detect\"],\n  enforce: \"post\",\n  setup(nuxt) {\n    if (!isSSG || nuxt.$i18n.strategy !== \"no_prefix\" || !runtimeDetectBrowserLanguage(nuxt.$config.public.i18n))\n      return;\n    const nuxtApp = nuxt;\n    const logger = /* @__PURE__ */ createLogger(\"plugin:i18n:ssg-detect\");\n    const localeCookie = nuxtApp.$i18n.getLocaleCookie();\n    nuxt.hook(\"app:mounted\", async () => {\n      const detected = detectBrowserLanguage(\n        nuxtApp.$router.currentRoute.value,\n        localeCookie,\n        localeCookie || unref(nuxtApp.$i18n.defaultLocale)\n      );\n      __DEBUG__ && logger.log(\"app:mounted: detectBrowserLanguage (locale, reason, from) -\", Object.values(detected));\n      await nuxtApp.$i18n.setLocale(detected.locale);\n      nuxtApp._vueI18n.__firstAccess = false;\n    });\n  }\n});\n"],"version":3}